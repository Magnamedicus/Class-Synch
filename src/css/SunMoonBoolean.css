/* src/css/SunMoonBoolean.css */

.sunmoon-switch {
    --toggle-size: 30px;
    --container-width: 5.625em;
    --container-height: 2.5em;
    --container-radius: 6.25em;

    --container-light-bg: #3d7eae;
    --container-night-bg: #1d1f2c;
    --circle-container-diameter: 3.375em;
    --sun-moon-diameter: 2.125em;
    --sun-bg: #ecca2f;
    --moon-bg: #c4c9d1;
    --spot-color: #959db1;

    --circle-container-offset: calc(
            (var(--circle-container-diameter) - var(--container-height)) / 2 * -1
    );

    --stars-color: #fff;
    --clouds-color: #f3fdff;
    --back-clouds-color: #aacadf;

    --transition: 0.5s cubic-bezier(0, -0.02, 0.4, 1.25);
    --circle-transition: 0.3s cubic-bezier(0, -0.02, 0.35, 1.17);

    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    user-select: none;
    cursor: pointer;
}

/* label placement helpers */
.sunmoon-switch.has-label-left { flex-direction: row-reverse; }
.sunmoon-switch.has-label-right { flex-direction: row; }

/* screen-reader text */
.sunmoon-sr {
    position: absolute !important;
    width: 1px; height: 1px;
    padding: 0; margin: -1px;
    overflow: hidden; clip: rect(0,0,0,0);
    white-space: nowrap; border: 0;
}

/* Inherit sizing via font-size */
.sunmoon-switch,
.sunmoon-switch *,
.sunmoon-switch *::before,
.sunmoon-switch *::after {
    box-sizing: border-box;
    margin: 0; padding: 0;
    font-size: var(--toggle-size);
}

.sunmoon__container {
    width: var(--container-width);
    height: var(--container-height);
    background-color: var(--container-light-bg);
    border-radius: var(--container-radius);
    overflow: hidden;
    cursor: pointer;
    box-shadow:
            0em -0.062em 0.062em rgba(0, 0, 0, 0.25),
            0em 0.062em 0.125em rgba(255, 255, 255, 0.94);
    transition: var(--transition);
    position: relative;
    background-image: linear-gradient(
            to bottom,
            var(--container-light-bg) 0%,
            #5490c0 100%
    );
}

.sunmoon__container::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 1;
    box-shadow:
            0em 0.05em 0.187em rgba(0, 0, 0, 0.25) inset,
            0em 0.05em 0.187em rgba(0, 0, 0, 0.25) inset;
    border-radius: var(--container-radius);
}

.sunmoon__checkbox { display: none; }

.sunmoon__circle-container {
    width: var(--circle-container-diameter);
    height: var(--circle-container-diameter);
    background-color: rgba(255, 255, 255, 0.1);
    position: absolute;
    left: var(--circle-container-offset);
    top: var(--circle-container-offset);
    border-radius: var(--container-radius);
    box-shadow:
            inset 0 0 0 3.375em rgba(255, 255, 255, 0.1),
            inset 0 0 0 3.375em rgba(255, 255, 255, 0.1),
            0 0 0 0.625em rgba(255, 255, 255, 0.1),
            0 0 0 1.25em rgba(255, 255, 255, 0.1);
    display: flex;
    transition: var(--circle-transition);
    pointer-events: none;
}

.sunmoon__sun-moon-container {
    pointer-events: auto;
    position: relative;
    z-index: 2;
    width: var(--sun-moon-diameter);
    height: var(--sun-moon-diameter);
    margin: auto;
    border-radius: var(--container-radius);
    background-color: var(--sun-bg);
    box-shadow:
            0.062em 0.062em 0.062em 0em rgba(254, 255, 239, 0.61) inset,
            0em -0.062em 0.062em 0em #a1872a inset;
    filter: drop-shadow(0.062em 0.125em 0.125em rgba(0, 0, 0, 0.25))
    drop-shadow(0em 0.062em 0.125em rgba(0, 0, 0, 0.25));
    transition: var(--transition);
    transform: scale(1);
}

.sunmoon__sun-moon-container:hover {
    transform: scale(1.1) rotate(5deg);
}

.sunmoon__moon {
    transform: translateX(100%);
    width: 100%; height: 100%;
    background-color: var(--moon-bg);
    border-radius: inherit;
    box-shadow:
            0.062em 0.062em 0.062em 0em rgba(254, 255, 239, 0.61) inset,
            0em -0.062em 0.062em 0em #969696 inset;
    transition: var(--transition);
    position: relative;
}

.sunmoon__moon:hover { transform: rotate(15deg); }

.sunmoon__spot {
    position: absolute;
    top: 0.75em; left: 0.312em;
    width: 0.75em; height: 0.75em;
    border-radius: var(--container-radius);
    background-color: var(--spot-color);
    box-shadow: 0em 0.0312em 0.062em rgba(0, 0, 0, 0.25) inset;
    transition: background-color 0.3s ease;
}

.sunmoon__spot:nth-of-type(2) {
    width: 0.375em; height: 0.375em;
    top: 0.937em; left: 1.375em;
}

.sunmoon__spot:nth-last-of-type(3) {
    width: 0.25em; height: 0.25em;
    top: 0.312em; left: 0.812em;
}

.sunmoon__moon:hover .sunmoon__spot { background-color: #7a7f8c; }

.sunmoon__clouds {
    width: 1.25em; height: 1.25em;
    background-color: var(--clouds-color);
    border-radius: var(--container-radius);
    position: absolute;
    bottom: -0.625em; left: 0.312em;
    box-shadow:
            0.937em 0.312em var(--clouds-color),
            -0.312em -0.312em var(--back-clouds-color),
            1.437em 0.375em var(--clouds-color),
            0.5em -0.125em var(--back-clouds-color),
            2.187em 0 var(--clouds-color),
            1.25em -0.062em var(--back-clouds-color),
            2.937em 0.312em var(--clouds-color),
            2em -0.312em var(--back-clouds-color),
            3.625em -0.062em var(--clouds-color),
            2.625em 0em var(--back-clouds-color),
            4.5em -0.312em var(--clouds-color),
            3.375em -0.437em var(--back-clouds-color),
            4.625em -1.75em 0 0.437em var(--clouds-color),
            4em -0.625em var(--back-clouds-color),
            4.125em -2.125em 0 0.437em var(--back-clouds-color);
    transition: 0.5s cubic-bezier(0, -0.02, 0.4, 1.25);
}

.sunmoon__stars-container {
    position: absolute;
    color: var(--stars-color);
    top: -100%;
    left: 0.312em;
    width: 2.75em;
    height: auto;
    transition: var(--transition);
}

/* night state (checkbox checked) */
.sunmoon__checkbox:checked + .sunmoon__container {
    background-color: var(--container-night-bg);
    background-image: linear-gradient(
            to bottom,
            var(--container-night-bg) 0%,
            #2d3142 100%
    );
}

.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__circle-container {
    left: calc(100% - var(--circle-container-offset) - var(--circle-container-diameter));
}

.sunmoon__circle-container:hover {
    left: calc(var(--circle-container-offset) + 0.187em);
}

.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__circle-container:hover {
    left: calc(100% - var(--circle-container-offset) - var(--circle-container-diameter) - 0.187em);
}

.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__moon {
    transform: translate(0);
}

.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__clouds {
    bottom: -4.062em;
}

.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__stars-container {
    top: 50%;
    transform: translateY(-50%);
}

/* fun particles */
.sunmoon__sun-moon-container::after {
    content: "";
    position: absolute;
    inset: -5px;
    background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.3s ease;
}
.sunmoon__sun-moon-container:hover::after { opacity: 1; }

.sunmoon__shooting-star,
.sunmoon__shooting-star-2 {
    position: absolute;
    background: white;
    opacity: 0;
    transition: opacity 0.3s ease;
}
.sunmoon__shooting-star { width: 2px; height: 2px; top: 20%; left: -10%; }
.sunmoon__shooting-star-2 { width: 1px; height: 1px; top: 35%; left: -10%; }

.sunmoon__meteor {
    position: absolute;
    width: 3px; height: 3px;
    background: #ffd700;
    border-radius: 50%;
    top: -10%; left: 50%;
    opacity: 0;
    filter: blur(1px);
    transition: opacity 0.3s ease;
}

.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__shooting-star {
    animation: sunmoon-shootingStar 2s linear infinite;
    opacity: 1;
}
.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__shooting-star-2 {
    animation: sunmoon-shootingStar 3s linear infinite 1s;
    opacity: 1;
}
.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__meteor {
    animation: sunmoon-meteor 4s linear infinite 2s;
    opacity: 1;
}

@keyframes sunmoon-shootingStar {
    0% { transform: translateX(0) translateY(0) rotate(45deg); opacity: 1; }
    100% { transform: translateX(150px) translateY(150px) rotate(45deg); opacity: 0; }
}

@keyframes sunmoon-meteor {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(150px) scale(0.3); opacity: 0; }
}

.sunmoon__stars-cluster {
    position: absolute; inset: 0; opacity: 0;
    transition: opacity 0.3s ease;
}
.sunmoon__stars-cluster .star {
    position: absolute; width: 2px; height: 2px;
    background: white; border-radius: 50%;
    box-shadow: 0 0 4px 1px white;
}
.sunmoon__stars-cluster .star:nth-child(1) { top: 20%; left: 20%; animation: sunmoon-twinkle 1s infinite ease-in-out; }
.sunmoon__stars-cluster .star:nth-child(2) { top: 30%; left: 55%; animation: sunmoon-twinkle 1s infinite ease-in-out 0.3s; }
.sunmoon__stars-cluster .star:nth-child(3) { top: 40%; left: 80%; animation: sunmoon-twinkle 1s infinite ease-in-out 0.6s; }
.sunmoon__stars-cluster .star:nth-child(4) { top: 60%; left: 30%; animation: sunmoon-twinkle 1s infinite ease-in-out 0.9s; }
.sunmoon__stars-cluster .star:nth-child(5) { top: 70%; left: 65%; animation: sunmoon-twinkle 1s infinite ease-in-out 1.2s; }

@keyframes sunmoon-twinkle {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.2); }
}

.sunmoon__aurora {
    position: absolute; top: 0; left: 0; right: 0; height: 20px;
    background: linear-gradient(
            90deg,
            rgba(0,255,255,0) 0%,
            rgba(0,255,255,0.2) 25%,
            rgba(128,0,255,0.2) 50%,
            rgba(0,255,255,0.2) 75%,
            rgba(0,255,255,0) 100%
    );
    opacity: 0; filter: blur(4px); transform: translateY(-100%);
    transition: opacity 0.3s ease;
}

.sunmoon__comets { position: absolute; inset: 0; overflow: hidden; opacity: 0; transition: opacity 0.3s ease; }
.sunmoon__comets .comet {
    position: absolute;
    width: 2px; height: 2px;
    background: linear-gradient(90deg, white 0%, transparent 90%);
    border-radius: 50%; filter: blur(1px);
}
.sunmoon__comets .comet:nth-child(1) { top: 30%; left: -10%; animation: sunmoon-cometMove 4s linear infinite; }
.sunmoon__comets .comet:nth-child(2) { top: 50%; left: -10%; animation: sunmoon-cometMove 6s linear infinite 2s; }

@keyframes sunmoon-cometMove {
    0% { transform: translateX(0) translateY(0) rotate(-45deg) scale(1); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateX(200px) translateY(200px) rotate(-45deg) scale(0.2); opacity: 0; }
}

.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__stars-cluster { opacity: 1; }
.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__aurora { opacity: 1; animation: sunmoon-auroraWave 8s linear infinite; }
.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__comets { opacity: 1; }

@keyframes sunmoon-auroraWave {
    0% { transform: translateY(-100%) translateX(-50%); }
    100% { transform: translateY(-100%) translateX(50%); }
}

/* Yes/No text */
.sunmoon-label {
    font-weight: 800;
    letter-spacing: 0.02em;
    color: #ffffff;
    text-shadow: 0 1px 2px rgba(0,0,0,0.35);
    min-width: 2.5ch;
    text-align: center;
    user-select: none;
}

.sunmoon-label.is-yes { color: #b8ffde; }
.sunmoon-label.is-no  { color: #ffd1d1; }



/* base: moon hidden when unchecked */
.sunmoon__moon {
    transform: translateX(100%);
    transition: var(--transition);
}

/* hover while unchecked: keep it hidden, just tilt */
.sunmoon__moon:hover {
    transform: translateX(100%) rotate(15deg);
}

/* when toggled to NO (checked): moon slides in */
.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__moon {
    transform: translateX(0);
}

/* hover while checked: tilt in place */
.sunmoon__checkbox:checked + .sunmoon__container .sunmoon__moon:hover {
    transform: translateX(0) rotate(15deg);
}

.sunmoon__sun-moon-container { overflow: hidden; }



