/* ==========================================================================
   Class Synch — Bulbous Gradient Progress Bar with Yellow Captions
   ========================================================================== */

.cs-bulb-root{
    --bar-h: 44px;                                   /* thickness of the bar */
    --bar-w: min(1200px, 96vw);
    --bar-bottom: calc(env(safe-area-inset-bottom,0) + 2rem); /* low to bottom */
    --bar-scale: 0.9;                                /* global shrink knob */

    --grad-1: #97ff6f;
    --grad-2: #23e56c;
    --grad-3: #00c2ff;

    --track-bg-1: rgba(12,16,24,.92);
    --track-bg-2: rgba(8,12,18,.92);
    --track-border: rgba(255,255,255,.14);
    --inner-shadow: rgba(0,0,0,.65);

    --dot-w: 64px;
    --dot-h: 72px;
    --dot-radius: 28px;
    --dot-glow: 0 18px 36px rgba(0, 194, 255, .40);

    position: fixed;
    left: 50%;
    transform: translateX(-50%) scale(var(--bar-scale));
    transform-origin: 50% 100%;
    bottom: var(--bar-bottom);
    width: var(--bar-w);
    z-index: 999;
    pointer-events: none;
    -webkit-tap-highlight-color: transparent;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
}

/* percent removed */
.cs-bulb-percent{ display: none !important; }

/* glow behind bar */
.cs-bulb-root::before{
    content:"";
    position: absolute;
    inset: -36px -60px;
    background: radial-gradient(80% 120% at 50% 50%, rgba(0,194,255,.18), rgba(0,194,255,0) 70%);
    filter: blur(24px);
    z-index: -1;
    pointer-events: none;
}

/* track */
.cs-bulb-track{
    position: relative;
    height: var(--bar-h);
    border-radius: 9999px;
    background: linear-gradient(180deg, var(--track-bg-1), var(--track-bg-2));
    border: 1px solid var(--track-border);
    box-shadow:
            0 28px 60px rgba(0, 194, 255, .12),
            0 10px 32px rgba(0, 0, 0, .4),
            inset 0 2px 10px var(--inner-shadow);
    overflow: visible;
    pointer-events: auto;
}
.cs-bulb-ambient{
    position: absolute; inset: -20px -30px;
    background: radial-gradient(80% 100% at 50% 50%, rgba(0,194,255,.16), rgba(0,194,255,0) 70%);
    filter: blur(16px);
    pointer-events: none;
}
.cs-bulb-gloss{
    position: absolute;
    top: 1px; left: 1px; right: 1px;
    height: 44%;
    border-radius: 9999px;
    background: linear-gradient(180deg, rgba(255,255,255,.26), rgba(255,255,255,0));
    pointer-events: none;
}

/* fill */
.cs-bulb-fill{
    position: absolute; top: 0; left: 0; bottom: 0;
    width: 0%;
    border-radius: inherit;
    background: linear-gradient(90deg, var(--grad-1), var(--grad-2), var(--grad-3));
    background-size: 220% 100%;
    transition: width 320ms cubic-bezier(.22,.8,.2,1);
    box-shadow:
            inset 0 1px 0 rgba(255,255,255,.45),
            inset 0 -1px 0 rgba(0,0,0,.25),
            0 0 42px rgba(0, 194, 255, .35),
            0 0 70px rgba(0, 194, 255, .18);
    animation: cs-scan 8s ease infinite;
}
@keyframes cs-scan {
    0%   { background-position: 0% 50%; filter: brightness(1); }
    50%  { background-position: 100% 50%; filter: brightness(1.07); }
    100% { background-position: 0% 50%; filter: brightness(1); }
}
.cs-bulb-sheen{
    position: absolute; inset: 0;
    background-image: linear-gradient(110deg, rgba(255,255,255,.16), rgba(255,255,255,0) 30%, rgba(255,255,255,.16) 60%, rgba(255,255,255,0) 80%);
    mix-blend-mode: overlay;
    opacity: .22;
    animation: cs-sheen 6.5s linear infinite;
    pointer-events: none;
}
@keyframes cs-sheen { 0%{background-position:-300px 0} 100%{background-position:300px 0} }

/* bulb landmark */
.cs-bulb-dot{
    position: absolute;
    top: 50%;
    transform: translate(-50%, calc(-50% - 10px));
    width: var(--dot-w);
    height: var(--dot-h);
    border-radius: var(--dot-radius);
    border: 1px solid rgba(255,255,255,.2);
    background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
    box-shadow:
            0 12px 24px rgba(0,0,0,.38),
            var(--dot-glow),
            inset 0 1px 2px rgba(255,255,255,.65);
    padding: 0;
    cursor: pointer;
    pointer-events: auto;
    outline: none;
    transition: transform 160ms ease, box-shadow 220ms ease, filter 200ms ease, opacity 160ms ease;
    backdrop-filter: blur(6px) saturate(1.08);
}
.cs-bulb-dot:hover{
    transform: translate(-50%, calc(-50% - 10px)) scale(1.05);
    box-shadow:
            0 16px 32px rgba(0,0,0,.46),
            0 0 44px rgba(0, 194, 255, .46),
            inset 0 1px 2px rgba(255,255,255,.78);
}
.cs-bulb-dot:disabled{ opacity:.55; cursor: default; }

.cs-bulb-body{
    position: absolute; inset: 5px;
    border-radius: calc(var(--dot-radius) - 6px);
    background: linear-gradient(180deg, rgba(5,10,18,.88), rgba(5,10,18,.68));
    overflow: hidden;
    display: grid; place-items: center;
}
.cs-bulb-img{
    width: 78%; height: 78%;
    border-radius: 999px;
    background-size: cover; background-position: center;
    box-shadow: 0 0 0 3px rgba(255,255,255,.9), 0 0 14px rgba(255,255,255,.38);
}
.cs-bulb-orb{
    width: 74%; height: 74%;
    border-radius: 999px;
    background: conic-gradient(from 210deg, #e8fff4, #c6f7ff, #e8fff4);
    box-shadow: inset 0 0 0 3px rgba(255,255,255,.9);
}

/* caption across bulb — YELLOW */
.cs-bulb-caption{
    position: absolute;
    left: 50%; top: 50%;
    transform: translate(-50%, -50%);
    padding: 2px 8px;
    border-radius: 999px;
    font-size: .72rem;
    font-weight: 900;
    letter-spacing: .02em;
    white-space: nowrap;
    color: #ffe066; /* default yellow */
    background: linear-gradient(180deg, rgba(6,12,20,.72), rgba(6,12,20,.55));
    box-shadow:
            0 2px 6px rgba(0,0,0,.45),
            inset 0 1px 0 rgba(255,255,255,.2);
    text-shadow: 0 1px 3px rgba(0,0,0,.6);
    pointer-events: none;
}
.cs-bulb-dot.is-active .cs-bulb-caption{
    color: #fff176; /* bright yellow */
}
.cs-bulb-dot.is-done .cs-bulb-caption{
    color: #f9ff8a; /* pale yellow-green */
}

/* ring accent */
.cs-bulb-ring{
    position: absolute; inset: -3px;
    border-radius: inherit;
    border: 2px solid rgba(0, 194, 255, .38);
    filter: blur(1px);
    pointer-events: none;
    opacity: .9;
}
.cs-bulb-dot.is-active .cs-bulb-ring{
    animation: cs-pulse 1.8s ease-in-out infinite;
}
@keyframes cs-pulse {
    0%   { transform: scale(1);    opacity: .9; }
    50%  { transform: scale(1.07); opacity: 1; }
    100% { transform: scale(1);    opacity: .9; }
}
.cs-bulb-dot.is-done .cs-bulb-ring{
    border-color: rgba(35,229,108,.78);
}

/* hide old labels */
.cs-bulb-labels{ display: none !important; }

@media (max-width: 560px){
    .cs-bulb-root{ --bar-w: min(820px, 96vw); --dot-w: 56px; --dot-h: 64px; }
    .cs-bulb-caption{ font-size: .64rem; padding: 2px 6px; }
}
