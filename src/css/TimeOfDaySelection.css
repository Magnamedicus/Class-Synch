/* =========================================
   TimeOfDaySelection.css — Neon Glow Edition
   ========================================= */

:root {
    --tod-radius: 16px;
    --tod-gap: clamp(10px, 2vw, 16px);
    --tod-padding: clamp(10px, 1.5vw, 14px);
    --tod-font: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;

    --surface: rgba(255, 255, 255, 0.7);
    --surface-strong: rgba(255, 255, 255, 0.9);
    --border: rgba(0, 0, 0, 0.08);
    --text: #0b1020;
    --shadow: 0 10px 24px rgba(0,0,0,0.12);
}

@media (prefers-color-scheme: dark) {
    :root {
        --surface: rgba(17, 24, 39, 0.55);
        --surface-strong: rgba(17, 24, 39, 0.75);
        --border: rgba(255, 255, 255, 0.12);
        --text: #e8ecf3;
        --shadow: 0 12px 28px rgba(0,0,0,0.5);
    }
}

/* ---------- Root ---------- */
.daysel-root {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(220px, 100%), 1fr));
    gap: var(--tod-gap);
    font-family: var(--tod-font);
    color: var(--text);
    padding: calc(var(--tod-gap)*0.6);
}

/* Optional tighter layout: <TimeOfDaySelection className="compact" /> */
.daysel-root.compact {
    --tod-radius: 12px;
    --tod-gap: 10px;
    --tod-padding: 10px;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
}

/* ---------- Cells ---------- */
.daysel-cell {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: clamp(56px, 8.5vh, 82px);
    padding: var(--tod-padding);
    border-radius: var(--tod-radius);
    border: 1px solid var(--border);
    background: linear-gradient(180deg, var(--surface-strong), var(--surface));
    box-shadow: var(--shadow);
    cursor: pointer;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    transition: transform 160ms ease, box-shadow 160ms ease, background 180ms ease, border-color 160ms ease;
    overflow: hidden;
}

.daysel-cell:hover { transform: translateY(-1px); }

/* ---------- Labels ---------- */
.daysel-short {
    position: relative;
    z-index: 2;
    font-weight: 800;
    font-size: clamp(0.95rem, 0.9rem + 0.4vw, 1.25rem);
    letter-spacing: 0.02em;
    white-space: nowrap;
    text-shadow: 0 1px 0 rgba(255,255,255,0.35);
}

/* ---------- Focus ring ---------- */
.daysel-cell:focus-visible {
    outline: none;
    box-shadow:
            0 0 0 4px color-mix(in oklab, var(--glow, #60a5fa) 40%, white 60%),
            var(--shadow);
}

/* ---------- Disabled ---------- */
.daysel-cell:disabled,
.daysel-root[aria-disabled="true"] .daysel-cell {
    opacity: 0.55;
    pointer-events: none;
}

/* =========================================
   BRIGHT GLOW WHEN SELECTED
   =========================================
   We use:
   - ::before as a soft outer halo
   - ::after as an animated aura ring
   - Strong inner neon rim on the button itself
   - Text glow for readability
*/
.daysel-cell.is-selected {
    border-color: transparent;
    background:
            radial-gradient(120% 140% at 50% 0%, rgba(255,255,255,0.28), transparent 55%),
            linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
    transform: translateY(-2px);
    box-shadow:
            0 0 0 2px color-mix(in oklab, var(--glow, #60a5fa) 100%, white 0%) inset,
            0 12px 30px rgba(0,0,0,0.25),
            0 0 24px color-mix(in oklab, var(--glow, #60a5fa) 55%, transparent 45%);
}

/* Outer halo */
.daysel-cell.is-selected::before {
    content: "";
    position: absolute;
    inset: -12px;
    border-radius: inherit;
    background: radial-gradient(60% 60% at 50% 50%, color-mix(in oklab, var(--glow, #60a5fa) 70%, transparent 30%), transparent 70%);
    filter: blur(18px);
    opacity: 0.95;
    z-index: 0;
    pointer-events: none;
}

/* Aura ring pulse */
.daysel-cell.is-selected::after {
    content: "";
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    z-index: 1;
    pointer-events: none;
    background:
            conic-gradient(from 0deg, color-mix(in oklab, var(--glow, #60a5fa) 60%, transparent 40%), transparent 40% 60%, color-mix(in oklab, var(--glow, #60a5fa) 60%, transparent 40%));
    -webkit-mask: radial-gradient(closest-side, transparent calc(100% - 3px), #000 calc(100% - 2px));
    mask: radial-gradient(closest-side, transparent calc(100% - 3px), #000 calc(100% - 2px));
    animation: tod-spin 2.2s linear infinite, tod-breathe 2s ease-in-out infinite;
    opacity: 0.8;
}

/* Text neon glow for selected */
.daysel-cell.is-selected .daysel-short {
    text-shadow:
            0 0 6px color-mix(in oklab, var(--glow, #60a5fa) 70%, white 30%),
            0 0 18px color-mix(in oklab, var(--glow, #60a5fa) 60%, transparent 40%);
}

/* Spin + breathe animations */
@keyframes tod-spin {
    to { transform: rotate(360deg); }
}
@keyframes tod-breathe {
    0%, 100% { opacity: 0.7; filter: blur(1px); }
    50% { opacity: 1; filter: blur(0.5px); }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
    .daysel-cell,
    .daysel-cell.is-selected::after {
        animation: none !important;
        transition: none !important;
    }
}

/* =========================================
   Per-button glow colors via nth-child
   =========================================
   1 Late Morning     -> golden
   2 Early Afternoon  -> sky/aqua
   3 Mid Afternoon    -> citrus/coral
   4 Late Afternoon   -> warm amber
   5 Evening          -> indigo/cyan
*/
.daysel-root .daysel-cell:nth-child(1) { --glow: #fbbf24; }  /* amber-400 */
.daysel-root .daysel-cell:nth-child(2) { --glow: #38bdf8; }  /* sky-400 */
.daysel-root .daysel-cell:nth-child(3) { --glow: #f59e0b; }  /* amber-500 */
.daysel-root .daysel-cell:nth-child(4) { --glow: #fb923c; }  /* orange-400 */
.daysel-root .daysel-cell:nth-child(5) { --glow: #6366f1; }  /* indigo-500 */

/* Tiny screens */
@media (max-width: 420px) {
    .daysel-cell { height: clamp(52px, 7.5vh, 72px); }
    .daysel-short { font-size: clamp(0.9rem, 3.8vw, 1.05rem); }
}

/* ================================
   High-Contrast Labels (Unselected)
   ================================ */

/* Force readable label colors before selection */
:root {
    --tod-label: #0b1020;            /* deep slate for light mode */
}
@media (prefers-color-scheme: dark) {
    :root {
        --tod-label: #e8ecf3;          /* near-white for dark mode */
    }
}

/* Slightly brighten card surface for better text contrast in light mode */
.daysel-cell {
    background:
            linear-gradient(180deg, rgba(255,255,255,0.96), rgba(247,249,252,0.88));
    border-color: rgba(0,0,0,0.10);
}

/* Unselected label: DARK text + subtle dark halo (no white shadow) */
.daysel-short {
    color: var(--tod-label) !important;
    text-shadow:
            0 1px 0 rgba(0,0,0,0.10),
            0 0 1px rgba(0,0,0,0.06);
}

/* Hover/active (unselected) — add a touch more contrast */
.daysel-cell:not(.is-selected):hover {
    border-color: rgba(0,0,0,0.18);
    box-shadow:
            0 8px 20px rgba(0,0,0,0.14),
            0 0 0 1px rgba(0,0,0,0.05) inset;
}

/* Keep the neon look ONLY when selected */
.daysel-cell.is-selected .daysel-short {
    color: #ffffff; /* bright white text works with the glow */
    text-shadow:
            0 0 6px color-mix(in oklab, var(--glow, #60a5fa) 70%, white 30%),
            0 0 18px color-mix(in oklab, var(--glow, #60a5fa) 60%, transparent 40%);
}

/* Optional utility: force dark labels regardless of theme
   <TimeOfDaySelection className="invert-labels" .../> */
.daysel-root.invert-labels .daysel-short {
    color: #0b1020 !important;
    text-shadow:
            0 1px 0 rgba(0,0,0,0.12),
            0 0 1px rgba(0,0,0,0.08);
}

/* Tiny screens still readable */
@media (max-width: 420px) {
    .daysel-short {
        text-shadow:
                0 0 1px rgba(0,0,0,0.12),
                0 1px 0 rgba(0,0,0,0.10);
    }
}


/* ================================================
   Unselected: rich, per-tile gradients (no icons)
   ================================================ */

/* Base for unselected tiles */
.daysel-cell:not(.is-selected) {
    border: 1px solid rgba(0,0,0,0.10);
    background-size: 180% 180%;
    background-position: 50% 50%;
    transition:
            background-position 500ms ease,
            transform 160ms ease,
            box-shadow 160ms ease,
            border-color 160ms ease;
    box-shadow:
            0 1px 0 rgba(255,255,255,0.55) inset,
            0 8px 18px rgba(0,0,0,0.08);
}

/* Gentle parallax/shift on hover */
.daysel-cell:not(.is-selected):hover {
    transform: translateY(-2px);
    background-position: 60% 40%;
    border-color: rgba(0,0,0,0.16);
    box-shadow:
            0 10px 22px rgba(0,0,0,0.14),
            0 0 0 1px rgba(0,0,0,0.06) inset;
}

/* High-contrast label before selection (from earlier) */
.daysel-cell:not(.is-selected) .daysel-short {
    color: var(--tod-label, #0b1020);
    text-shadow:
            0 1px 0 rgba(0,0,0,0.10),
            0 0 1px rgba(0,0,0,0.06);
}

/* Remove any icon remnants if you kept prior code */
.daysel-cell .daysel-short::before { content: "" !important; }

/* ---------- Per-time gradients (unselected) ----------
   Designed to be interesting but not loud.
   Tweak stops for your brand look.
----------------------------------------------------- */
.daysel-root .daysel-cell:nth-child(1):not(.is-selected) { /* Late Morning */
    background-image:
            linear-gradient(135deg, #fff7d6 0%, #ffe6b3 40%, #ffd4d6 100%),
            radial-gradient(120% 140% at 50% -20%, rgba(255,255,255,0.5), transparent 55%);
}
.daysel-root .daysel-cell:nth-child(2):not(.is-selected) { /* Early Afternoon */
    background-image:
            linear-gradient(135deg, #e1f7ff 0%, #d3e4ff 45%, #d8ffe8 100%),
            radial-gradient(120% 140% at 50% -20%, rgba(255,255,255,0.5), transparent 55%);
}
.daysel-root .daysel-cell:nth-child(3):not(.is-selected) { /* Mid Afternoon */
    background-image:
            linear-gradient(135deg, #fff0c2 0%, #ffd1c2 45%, #ffe0b5 100%),
            radial-gradient(120% 140% at 50% -20%, rgba(255,255,255,0.5), transparent 55%);
}
.daysel-root .daysel-cell:nth-child(4):not(.is-selected) { /* Late Afternoon */
    background-image:
            linear-gradient(135deg, #ffe3c4 0%, #ffd4a3 50%, #ffd7e6 100%),
            radial-gradient(120% 140% at 50% -20%, rgba(255,255,255,0.5), transparent 55%);
}
.daysel-root .daysel-cell:nth-child(5):not(.is-selected) { /* Evening */
    background-image:
            linear-gradient(135deg, #e3e4ff 0%, #d2f3ff 45%, #e5ddff 100%),
            radial-gradient(120% 140% at 50% -20%, rgba(255,255,255,0.5), transparent 55%);
}

/* Dark mode variants: deeper, moodier gradients */
@media (prefers-color-scheme: dark) {
    .daysel-root .daysel-cell:nth-child(1):not(.is-selected) {
        background-image:
                linear-gradient(135deg, #3b2e12 0%, #5a3c1a 50%, #553043 100%),
                radial-gradient(120% 140% at 50% -20%, rgba(255,255,255,0.08), transparent 55%);
    }
    .daysel-root .daysel-cell:nth-child(2):not(.is-selected) {
        background-image:
                linear-gradient(135deg, #0f2a36 0%, #112e57 50%, #0f3a2a 100%),
                radial-gradient(120% 140% at 50% -20%, rgba(255,255,255,0.08), transparent 55%);
    }
    .daysel-root .daysel-cell:nth-child(3):not(.is-selected) {
        background-image:
                linear-gradient(135deg, #3b2a0d 0%, #4a2430 50%, #4a2f11 100%),
                radial-gradient(120% 140% at 50% -20%, rgba(255,255,255,0.08), transparent 55%);
    }
    .daysel-root .daysel-cell:nth-child(4):not(.is-selected) {
        background-image:
                linear-gradient(135deg, #3b2211 0%, #4a2a0b 50%, #3a2134 100%),
                radial-gradient(120% 140% at 50% -20%, rgba(255,255,255,0.08), transparent 55%);
    }
    .daysel-root .daysel-cell:nth-child(5):not(.is-selected) {
        background-image:
                linear-gradient(135deg, #1d1f3f 0%, #103245 50%, #2a1f49 100%),
                radial-gradient(120% 140% at 50% -20%, rgba(255,255,255,0.08), transparent 55%);
    }

    .daysel-cell:not(.is-selected) {
        border-color: rgba(255,255,255,0.10);
        box-shadow:
                0 1px 0 rgba(255,255,255,0.08) inset,
                0 10px 24px rgba(0,0,0,0.45);
    }
}

/* Reduced motion: keep the gradient static */
@media (prefers-reduced-motion: reduce) {
    .daysel-cell:not(.is-selected) { transition: border-color 160ms ease, box-shadow 160ms ease; }
    .daysel-cell:not(.is-selected):hover { background-position: 50% 50%; transform: none; }
}
